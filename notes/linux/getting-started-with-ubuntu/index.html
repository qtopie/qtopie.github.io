<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>开始使用Ubuntu | 1001問</title><link rel=stylesheet href=/css/main.min.dcb41abaa5ea2698ebf89f814bc6b8060470b6414061437dac2ee0e3ef5d3b45.css integrity="sha256-3LQauqXqJpjr+J+BS8a4BgRwtkFAYUN9rC7g4+9dO0U=" crossorigin=anonymous><link rel=stylesheet href=/css/page.min.81d92e4ce9b8dc4e8a2018a7aee70f76bd7fb6884d929d5fd74e3f959f06e2f5.css integrity="sha256-gdkuTOm43E6KIBinrucPdr1/tohNkp1f104/lZ8G4vU=" crossorigin=anonymous><link rel=stylesheet href=/css/syntax.min.e114b8cc38f57d520f373580c935a518bc6afd6dec4f1d682365cdbcf5c8218a.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css crossorigin=anonymous referrerpolicy=no-referrer><script src=/js/toc.min.87636f25caf644980403a5c1ce8b0812cfd10d1e53c08f181547966799ceccdb.js integrity="sha256-h2NvJcr2RJgEA6XBzosIEs/RDR5TwI8YFUeWZ5nOzNs=" crossorigin=anonymous type=module defer></script><script src=/js/copy-code.min.3bea0de4cfe8670f94a5d75c177f07b58fc90178efdea7f2a21449798d75b2c9.js integrity="sha256-O+oN5M/oZw+UpddcF38HtY/JAXjv3qfyohRJeY11ssk=" crossorigin=anonymous defer></script><script defer src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script defer src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js crossorigin=anonymous referrerpolicy=no-referrer onload='renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})'></script><script src=/js/katex-block.min.2cf531bbcc318aadf5661baa2d0987ab5cb4daef473e108b1da714a37cff0b25.js integrity="sha256-LPUxu8wxiq31ZhuqLQmHq1y02u9HPhCLHacUo3z/CyU=" crossorigin=anonymous defer></script></head><body><header><nav><a href=/><h1>1001問</h1></a><div id=react-search class=search-root aria-label="Site Search"></div></nav></header><main><div class=sidebar><section class=toc><nav id=TableOfContents><ul><li><a href=#介绍>介绍</a></li><li><a href=#系统安装>系统安装</a><ul><li><a href=#预先准备>预先准备</a></li><li><a href=#安装过程>安装过程</a></li><li><a href=#从旧磁盘迁移ubuntu>从旧磁盘迁移Ubuntu</a></li></ul></li><li><a href=#常用软件>常用软件</a><ul><li><a href=#基本build工具链>基本build工具链</a></li><li><a href=#文本编辑器>文本编辑器</a></li><li><a href=#文件同步>文件同步</a></li><li><a href=#draw-on-screen画草图的工具>Draw On Screen(画草图的工具）</a></li><li><a href=#在linux上使用windows>在Linux上使用Windows</a></li><li><a href=#中文输入法问题>中文输入法问题</a></li></ul></li><li><a href=#参考>参考</a></li></ul></nav></section></div><article id=content><div class=metadata><h1>开始使用Ubuntu</h1><time datetime=2014-11-17T22:24:33+08:00>November 17, 2014</time><div class=taxonomy></div></div><h2 id=介绍>介绍</h2><p>Ubuntu是一个以桌面应用为主的Linux操作系统，基于Debian发行版和GNOME桌面环境(17.10又回到gnome)，与Debian的不同在于它每6个月会发布一个新版本。Ubuntu的目标在于为一般用户提供一个最新的、同时又相当稳定的主要由自由软件构建而成的操作系统。Ubuntu具有庞大的社区力量（如<a href=https://askubuntu.com/>askubuntu</a>)，用户可以方便地从社区获得帮助。对于我个人而言，最吸引的是Ubuntu的开放性及活跃的社区,在Ubuntu上做开发也更加得心应手。</p><h2 id=系统安装>系统安装</h2><p>以Ubuntu桌面版(amd64)为例</p><h3 id=预先准备>预先准备</h3><ul><li><a href=https://cn.ubuntu.com/download/desktop>ISO文件</a></li><li>可格式化的U盘 (建议4G以上)</li><li>启动盘创建工具<a href=https://rufus.ie/zh/>Rufus</a></li></ul><p>在Windows上使用Rufus工具，将系统镜像文件写入到U盘。</p><h3 id=安装过程>安装过程</h3><p>参考以下步骤完成安装</p><ul><li><p>重启计算机进入bios设置开机顺序（找到在StartUp选项修改，设置usb优先启动），或重启时直接按F12（或其他FN)或Enter等进入设置（不同主板进入方法可能不同）。</p></li><li><p>启动进入了ubuntu安装引导界面，开始安装过程</p></li></ul><p><img src=getting-started-with-ubuntu.assets/img-2021-10-05-16-59-25.png alt=安装引导界面></p><p>-[连接网络]</p><blockquote><p>说明一下，如果选择安装第三方软件，安装过程耗时较长，如果网速很慢的话，建议先不安装，可安装好系统后在使用时根据系统提示安装。网速快的话就另当别论了。</p></blockquote><ul><li>[安装类型]</li></ul><p><img src=getting-started-with-ubuntu.assets/img-2021-10-05-18-09-14.png alt></p><ul><li>调整分区</li></ul><p>此处可以设置管理员账户，建议耐心点一次设置好就ok了</p><p><img src=getting-started-with-ubuntu.assets/img-2021-10-05-18-09-35.png alt=用户></p><ul><li>开始安装</li></ul><p><img src=getting-started-with-ubuntu.assets/img-2021-10-05-18-10-09.png alt></p><p>安装完成后，重新启动计算机就ok了！</p><p><img src=getting-started-with-ubuntu.assets/img-2021-10-05-18-10-22.png alt></p><h3 id=从旧磁盘迁移ubuntu>从旧磁盘迁移Ubuntu</h3><p>有时由于更换磁盘等原因，我们需要迁移Linux系统到新的磁盘。这里给出一个本人使用过的解决方案。
假设问题： 需要将HDD上装有Ubuntu 18.04的Linux系统迁移到一块空的SSD上。</p><ul><li>在新磁盘上创建分区(这里我只创建了一个root分区，且原系统也只有一个分区)</li></ul><p>使用<a href=https://gparted.org/>gparted</a>在新磁盘上创建一个root分区,格式为ext4.
或者在终端下使用<a href=http://manpages.ubuntu.com/manpages/xenial/man8/parted.8.html>parted</a>完成该操作。</p><ul><li>将系统文件拷贝到新磁盘的分区(建议在<a href=http://www.ubuntu.com/download/desktop/create-a-usb-stick-on-ubuntu>live usb</a>上完成该操作)</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 旧的分区在/dev/sda5上， 新磁盘为/dev/sdb</span>
</span></span><span class=line><span class=cl>dd <span class=nv>in</span><span class=o>=</span>/dev/sda5 <span class=nv>of</span><span class=o>=</span>/dev/sdb1 <span class=nv>bs</span><span class=o>=</span>4M <span class=nv>conv</span><span class=o>=</span>noerror,sync <span class=nv>status</span><span class=o>=</span>progress
</span></span></code></pre></div><p>拷贝完后，mount新磁盘确认数据已经保存到新磁盘，就可以移走旧磁盘或删除旧系统文件。</p><ul><li>使用live usb安装grub到新磁盘的文件系统</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># mount新磁盘分区到 /mnt</span>
</span></span><span class=line><span class=cl>sudo mount /dev/sdb1 /mnt
</span></span><span class=line><span class=cl><span class=c1># mount当前操作系统文件必要目录</span>
</span></span><span class=line><span class=cl><span class=k>for</span> i in sys proc run dev<span class=p>;</span> <span class=k>do</span> sudo mount --bind <span class=s2>&#34;/</span><span class=nv>$i</span><span class=s2>&#34;</span> <span class=s2>&#34;/mnt/</span><span class=nv>$i</span><span class=s2>&#34;</span><span class=p>;</span> <span class=k>done</span>
</span></span><span class=line><span class=cl><span class=c1># 如果使用的是UEFI系统，也需要将它mount到mnt，这里我的UEFI在/dev/sda1上，可通过磁盘工具查看</span>
</span></span><span class=line><span class=cl>sudo mount /dev/sda1 /mnt/boot/efi
</span></span><span class=line><span class=cl><span class=c1># chroot</span>
</span></span><span class=line><span class=cl>sudo chroot /mnt
</span></span><span class=line><span class=cl><span class=c1># 更新grub</span>
</span></span><span class=line><span class=cl>update-grub
</span></span><span class=line><span class=cl>grub-install /dev/sdb
</span></span><span class=line><span class=cl>update-grub
</span></span><span class=line><span class=cl><span class=nb>exit</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 重启</span>
</span></span><span class=line><span class=cl>sudo reboot
</span></span></code></pre></div><ul><li>创建swapfile (可选，如果启动时提示无swapfile使用)</li></ul><p>首先确认swap文件是否存在 <code>sudo swapon -s</code></p><p>如果不存在，创建swapfile <code>sudo fallocate -l 4G /swapfile</code> ， 这里应将4G替换为你电脑的实际内存大小</p><p>确认创建结果 <code>ls -lh /swapfile</code></p><p>设定文件权限 <code>sudo chmod 600 /swapfile</code></p><p>设定swap文件 <code>sudo mkswap /swapfile</code></p><p>启用该swap <code>sudo swapon /swapfile</code></p><p>检查swapfile已被使用 <code>sudo swapon -s</code></p><p>让swap启动时自动加载 <code>sudo vi /etc/fstab</code>, 加入下面一行</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>/swapfile none  swap  sw  <span class=m>0</span> <span class=m>0</span>
</span></span></code></pre></div><h4 id=常见问题>常见问题</h4><ul><li>fstab未更新或配置错误</li></ul><p>检查 <code>/etc/fstab</code>
示例：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># /etc/fstab: static file system information.</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># Use &#39;blkid&#39; to print the universally unique identifier for a</span>
</span></span><span class=line><span class=cl><span class=c1># device; this may be used with UUID= as a more robust way to name devices</span>
</span></span><span class=line><span class=cl><span class=c1># that works even if disks are added and removed. See fstab(5).</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;</span>
</span></span><span class=line><span class=cl><span class=c1># / was on /dev/sda5 during installation</span>
</span></span><span class=line><span class=cl><span class=c1># /boot/efi was on /dev/sda1 during installation</span>
</span></span><span class=line><span class=cl><span class=c1>#UUID=7651-2411  /boot/efi       vfat    umask=0077      0       1</span>
</span></span><span class=line><span class=cl>/swapfile                                 none            swap    sw              <span class=m>0</span>       <span class=m>0</span>
</span></span><span class=line><span class=cl><span class=nv>UUID</span><span class=o>=</span>7651-2411	/boot/efi	vfat	defaults	0	<span class=m>1</span>
</span></span><span class=line><span class=cl><span class=nv>UUID</span><span class=o>=</span>9132361e-a2cd-44c7-bc1a-e4d2c859c3c8	/	ext4	<span class=nv>errors</span><span class=o>=</span>remount-ro	0	<span class=m>1</span>
</span></span></code></pre></div><ul><li>执行操作时文件系统只读（Read-only filesystem)</li></ul><p>可能原因有磁盘没有正确地mount,检查<code>/etc/fstab</code>。
临时mount文件系统: <code>sudo mount -o rw,remount /</code></p><h2 id=常用软件>常用软件</h2><p><em>个人偏好，仅供参考</em></p><h3 id=基本build工具链>基本build工具链</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt install bulid-essential
</span></span></code></pre></div><h3 id=文本编辑器>文本编辑器</h3><ul><li>vim</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt install vim
</span></span></code></pre></div><ul><li><a href=https://code.visualstudio.com/>VSCode</a></li></ul><p>微软主导开发的一款开源轻量级代码编辑器，可从官网下载deb包安装。</p><h3 id=文件同步>文件同步</h3><p>主流云盘工具如Google Drive/OneDrive目前都没有支持Linux, 目前仅dropbox对各个平台支持的比较好，还有一定默认的存储空间。适合用来存储一些PDF书籍。</p><ul><li>解决Dropbox安装时，daemon程序因网络问题无法安装</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>proxychains4 dropbox update
</span></span></code></pre></div><h3 id=draw-on-screen画草图的工具>Draw On Screen(画草图的工具）</h3><p>类似于Windows Ink,我们可以在Ubuntu安装gnome-shell扩展支持该功能</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt install gnome-shell-extension-draw-on-your-screen
</span></span></code></pre></div><h3 id=在linux上使用windows>在Linux上使用Windows</h3><p>目前还是使用虚拟机最靠谱。折腾了很久VirtualBox，最终发现还是kvm靠谱（不会用着用着蓝屏了），只安装远程桌面的话，基本1/2GB就够用了。</p><ul><li>磁盘空间建议32GB+</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo qemu-img resize /var/lib/libvirt/images/win10.qcow2 32G
</span></span></code></pre></div><p>然后在Windows磁盘管理那里扩展卷增大C盘空间。</p><h3 id=中文输入法问题>中文输入法问题</h3><p>Linux下使用中文输入法一直是个难题。虽然搜狗输入法提供了Linux版，但由于说不出的对国内商业软件的忧虑心理，还是坚持使用开源软件。
推荐使用 ibus-sunpinyin。ubuntu 14.04时一直使用 fcitx和googlepinyin，但由于googlepinyin已经停止维护，而且云输入“原生被墙”的缘故，还是采用ibus-sunpinyin。</p><p>使用中发现，默认ibus-libpinyin貌似有一些bug， 手动安装<code>sunpinyin</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt-get install ibus-sunpinyin
</span></span></code></pre></div><p>如需要从fcitx切换回ibus</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>im-config
</span></span></code></pre></div><p>配置ibus拼音</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ibus-setup
</span></span></code></pre></div><p>添加词库字典， 默认自带的词库比较小。使用起来很尴尬，所以需要替换默认词库。
<a href=https://code.google.com/archive/p/hslinuxextra/downloads>https://code.google.com/archive/p/hslinuxextra/downloads</a></p><p>这里我采用了 sunpinyin-userdict.7z</p><p>如果需要自定义词库，可以手动输入一次，第二次就可以自动提示了。</p><p>比如<code>人艰不拆</code>第一次输入这些词句很难打出来，第二次就很方便了。</p><p>　　</p><h2 id=参考>参考</h2><ul><li><a href=https://help.ubuntu.com/lts/installation-guide/amd64/index.html>Ubuntu Installation Guide</a></li><li><a href=https://ubuntu.com/tutorials/install-ubuntu-desktop#1-overview>Install Ubuntu Desktop</a></li><li><a href=http://wiki.ubuntu.org.cn/>http://wiki.ubuntu.org.cn/</a></li><li><a href=https://askubuntu.com/a/549208/450832>https://askubuntu.com/a/549208/450832</a></li><li><a href=https://askubuntu.com/a/692029/450832>https://askubuntu.com/a/692029/450832</a></li></ul><div id=react-single-actions data-post-id=3fa08686b1e80057a6b9155a2162645b></div></article><button class=mobile-toc-trigger aria-controls=mobile-toc aria-expanded=false title=Index>☰</button><div class=mobile-toc-overlay hidden></div><div id=mobile-toc class=mobile-toc-drawer aria-hidden=true role=dialog aria-label=Index><div class=mobile-toc-header><button class=mobile-toc-close aria-label=close>×</button></div><nav class=mobile-toc-body><div class=mobile-toc-list></div></nav><div class=mobile-safe-area-spacer></div></div><script type=module src=/react/page.bundle.js></script></main><footer><div class=copyright><small>Made with <span style=color:#e25555>&#9829;</span> in Guangzhou by
©<a href=https://github.com/qtopie>qtopie</a> 2026
</small><small>Posts licensed under <a href=https://creativecommons.org/licenses/by/4.0/legalcode>CC BY 4.0</small></div><div><script type=module src=/react/base.bundle.js></script></div></footer></body></html>