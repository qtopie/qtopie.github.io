<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  History
  #


sysVinit
upstart
systemd

ubuntu: sysVinit &ndash;> upstart(6.10+) &ndash;> systemd (15.04+)

  Features of Upstart
  #

Event Based

Start System faster (compare with previous method).
Dynamically start service when discovering new device
Dynamically stop service when device is removed


  Systemd
  #

Systemd is a collection of system management daemons, utilities and libraries which serves as a replacement of System V init daemon. Systemd functions as
central management and configuration platform for UNIX like system."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://qtopie.github.io/notes/linux/systemd-service-unit-file/"><meta property="og:site_name" content="Blog | qtopierw"><meta property="og:title" content="Ubuntu init process"><meta property="og:description" content="History # sysVinit upstart systemd ubuntu: sysVinit –> upstart(6.10+) –> systemd (15.04+)
Features of Upstart # Event Based
Start System faster (compare with previous method). Dynamically start service when discovering new device Dynamically stop service when device is removed Systemd # Systemd is a collection of system management daemons, utilities and libraries which serves as a replacement of System V init daemon. Systemd functions as central management and configuration platform for UNIX like system."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="notes"><meta property="article:published_time" content="2016-09-15T14:20:15+08:00"><meta property="article:modified_time" content="2016-09-15T14:20:15+08:00"><meta property="article:tag" content="Ubuntu"><title>Ubuntu init process | Blog | qtopierw</title>
<link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://qtopie.github.io/notes/linux/systemd-service-unit-file/><link rel=stylesheet href=/book.min.6c8b9d2a1fc95075ed7da46ca81060b39add8fff6741ac51259f768929281e2c.css integrity="sha256-bIudKh/JUHXtfaRsqBBgs5rdj/9nQaxRJZ92iSkoHiw=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.6b0a5247a29534ab597c09c6ba111855ef60594896512109921af15ed6e3e547.js integrity="sha256-awpSR6KVNKtZfAnGuhEYVe9gWUiWUSEJkhrxXtbj5Uc=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>Blog | qtopierw</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>Ubuntu init process</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#history>History</a><ul><li><a href=#features-of-upstart>Features of Upstart</a></li></ul></li><li><a href=#systemd>Systemd</a><ul><li><a href=#systemctl>systemctl</a></li><li><a href=#init-script-vs-service-file>Init script vs Service file</a></li></ul></li><li><a href=#reference>Reference</a></li></ul></nav></aside></header><article class="markdown book-article"><h2 id=history>History
<a class=anchor href=#history>#</a></h2><ul><li>sysVinit</li><li><a href=http://upstart.ubuntu.com/>upstart</a></li><li>systemd</li></ul><p>ubuntu: sysVinit &ndash;> upstart(6.10+) &ndash;> systemd (15.04+)</p><h3 id=features-of-upstart>Features of Upstart
<a class=anchor href=#features-of-upstart>#</a></h3><p><em>Event Based</em></p><ul><li>Start System faster (compare with previous method).</li><li>Dynamically start service when discovering new device</li><li>Dynamically stop service when device is removed</li></ul><h2 id=systemd>Systemd
<a class=anchor href=#systemd>#</a></h2><p>Systemd is a collection of system management daemons, utilities and libraries which serves as a replacement of System V init daemon. Systemd functions as
central management and configuration platform for UNIX like system.</p><h3 id=systemctl>systemctl
<a class=anchor href=#systemctl>#</a></h3><p>Systemctl is a systemd utility which is responsible for Controlling the systemd system and service manager.</p><h3 id=init-script-vs-service-file>Init script vs Service file
<a class=anchor href=#init-script-vs-service-file>#</a></h3><p>You may use <code>service SCRIPT start|stop|statu..</code> manage jobs, but it&rsquo;s different
between using Init script and upstart or systemd service file.
<em>see <code>man service</code></em>.</p><h4 id=system-v-init-script>System V init script
<a class=anchor href=#system-v-init-script>#</a></h4><p>located in /etc/init.d/SCRIPT</p><ul><li>Example: (from shadowsocks-go project)</li></ul><pre tabindex=0><code>#!/bin/bash
# Start/stop shadowsocks.
#
### BEGIN INIT INFO
# Provides:          shadowsocks
# Required-Start:
# Required-Stop:
# Should-Start:
# Should-Stop:
# Default-Start:     2 3 4 5
# Default-Stop:      0 1 6
# Short-Description: shadowsocks is a lightweight tunneling proxy
# Description:       Modified from Linode&#39;s nginx fastcgi startup script
### END INIT INFO

# Note: this script requires sudo in order to run shadowsocks as the specified
# user. 

BIN=/usr/bin/shadowsocks-local
CONFIG_FILE=/etc/shadowsocks/config.json
LOG_FILE=/var/log/shadowsocks
USER=nobody
GROUP=nobody
PID_DIR=/var/run
PID_FILE=$PID_DIR/shadowsocks.pid
RET_VAL=0

[ -x $BIN ] || exit 0

check_running() {
  if [[ -r $PID_FILE ]]; then
    read PID &lt;$PID_FILE
    if [[ -d &#34;/proc/$PID&#34; ]]; then
      return 0
    else
      rm -f $PID_FILE
      return 1
    fi
  else
    return 2
  fi
}

do_status() {
  check_running
  case $? in
    0)
      echo &#34;shadowsocks running with PID $PID&#34;
      ;;
    1)
      echo &#34;shadowsocks not running, remove PID file $PID_FILE&#34;
      ;;
    2)
      echo &#34;Could not find PID file $PID_FILE, shadowsocks does not appear to be running&#34;
      ;;
  esac
  return 0
}

do_start() {
  if [[ ! -d $PID_DIR ]]; then
    echo &#34;creating PID dir&#34;
    mkdir $PID_DIR || echo &#34;failed creating PID directory $PID_DIR&#34;; exit 1
    chown $USER:$GROUP $PID_DIR || echo &#34;failed creating PID directory $PID_DIR&#34;; exit 1
    chmod 0770 $PID_DIR
  fi
  if check_running; then
    echo &#34;shadowsocks already running with PID $PID&#34;
    return 0
  fi
  if [[ ! -r $CONFIG_FILE ]]; then
    echo &#34;config file $CONFIG_FILE not found&#34;
    return 1
  fi
  echo &#34;starting shadowsocks&#34;
  # sudo will set the group to the primary group of $USER
  sudo -u $USER $BIN -c $CONFIG_FILE &gt;&gt;$LOG_FILE &amp;
  PID=$!
  echo $PID &gt; $PID_FILE
  sleep 0.3
  if ! check_running; then
    echo &#34;start failed&#34;
    return 1
  fi
  echo &#34;shadowsocks running with PID $PID&#34;
  return 0
}

do_stop() {
  if check_running; then
    echo &#34;stopping shadowsocks with PID $PID&#34;
    kill $PID
    rm -f $PID_FILE
  else
    echo &#34;Could not find PID file $PID_FILE&#34;
  fi
}

do_restart() {
  do_stop
  do_start
}

case &#34;$1&#34; in
  start|stop|restart|status)
    do_$1
    ;;
  *)
    echo &#34;Usage: shadowsocks {start|stop|restart|status}&#34;
    RET_VAL=1
    ;;
esac

exit $RET_VAL
</code></pre><p>You can use <code>update-rc.d</code> command to update the system service definitions.</p><h4 id=systemd-unit-file>Systemd Unit file
<a class=anchor href=#systemd-unit-file>#</a></h4><p>Example (<code>/etc/systemd/system/shadowsocks.service</code>)</p><ol><li>Prepare the executable file with the custom service.</li><li>Create a unit file in the /etc/systemd/system/ directory and make sure it has correct file permissions. Execute as root:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>touch /etc/systemd/system/shadowsocks.service
</span></span><span style=display:flex><span>chmod <span style=color:#f60>644</span> /etc/systemd/system/shadowsocks.service
</span></span></code></pre></div><ol start=3><li>Edit <code>shadowsocks.service</code> file</li></ol><ul><li>Shadowsocks-local</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-systemd data-lang=systemd><span style=display:flex><span><span style=color:#069;font-weight:700>[Unit]</span>
</span></span><span style=display:flex><span><span style=color:#309>Description</span><span style=color:#555>=</span><span style=color:#c30>Shadowsocks local daemon</span>
</span></span><span style=display:flex><span><span style=color:#309>After</span><span style=color:#555>=</span><span style=color:#c30>network.target</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>[Service]</span>
</span></span><span style=display:flex><span><span style=color:#309>ExecStart</span><span style=color:#555>=</span><span style=color:#c30>/usr/bin/shadowsocks-local -c /etc/shadowsocks/config.json</span>
</span></span><span style=display:flex><span><span style=color:#309>PIDFile</span><span style=color:#555>=</span><span style=color:#c30>/var/run/shadowsocks.pid</span>
</span></span><span style=display:flex><span><span style=color:#309>KillMode</span><span style=color:#555>=</span><span style=color:#c30>process</span>
</span></span><span style=display:flex><span><span style=color:#309>Restart</span><span style=color:#555>=</span><span style=color:#c30>on-failure</span>
</span></span><span style=display:flex><span><span style=color:#309>RestartSec</span><span style=color:#555>=</span><span style=color:#c30>42s</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>[Install]</span>
</span></span><span style=display:flex><span><span style=color:#309>WantedBy</span><span style=color:#555>=</span><span style=color:#c30>default.target</span>
</span></span></code></pre></div><ul><li>Shadowsocks-server</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-systemd data-lang=systemd><span style=display:flex><span><span style=color:#a00;background-color:#faa>[Unit]</span>                                                                          
</span></span><span style=display:flex><span><span style=color:#309>Description</span><span style=color:#555>=</span><span style=color:#c30>Go Shadowsocks server daemon                                          </span>
</span></span><span style=display:flex><span><span style=color:#309>Wants</span><span style=color:#555>=</span><span style=color:#c30>network-online.target</span>
</span></span><span style=display:flex><span><span style=color:#309>After</span><span style=color:#555>=</span><span style=color:#c30>network.target network-online.target multi-user.target</span>
</span></span><span style=display:flex><span>                                                                                 
</span></span><span style=display:flex><span><span style=color:#a00;background-color:#faa>[Service]</span>                                                                        
</span></span><span style=display:flex><span><span style=color:#309>ExecStart</span><span style=color:#555>=</span><span style=color:#c30>/usr/bin/shadowsocks-server -u -c /etc/shadowsocks/config.json  </span>
</span></span><span style=display:flex><span><span style=color:#309>ExecReload</span><span style=color:#555>=</span><span style=color:#c30>/bin/kill -HUP $MAINPID</span>
</span></span><span style=display:flex><span><span style=color:#309>PIDFile</span><span style=color:#555>=</span><span style=color:#c30>/var/run/shadowsocks.pid                                                 </span>
</span></span><span style=display:flex><span><span style=color:#309>KillMode</span><span style=color:#555>=</span><span style=color:#c30>process                                                                 </span>
</span></span><span style=display:flex><span><span style=color:#309>Restart</span><span style=color:#555>=</span><span style=color:#c30>on-failure                                                               </span>
</span></span><span style=display:flex><span><span style=color:#309>TimeoutStopSec</span><span style=color:#555>=</span><span style=color:#c30>30</span>
</span></span><span style=display:flex><span>                                                                                 
</span></span><span style=display:flex><span><span style=color:#a00;background-color:#faa>[Install]</span>                                                                        
</span></span><span style=display:flex><span><span style=color:#309>WantedBy</span><span style=color:#555>=</span><span style=color:#c30>multi-user.target </span>
</span></span><span style=display:flex><span><span style=color:#309>Alias</span><span style=color:#555>=</span><span style=color:#c30>ss-server.service</span>
</span></span></code></pre></div><ul><li>Proxy setting</li></ul><pre tabindex=0><code>Environment=&#34;HTTP_PROXY=http://127.0.0.1:8118&#34;
Environment=&#34;HTTPS_PROXY=http://127.0.0.1:8118&#34;
Environment=&#34;NO_PROXY=pi.lan,127.0.0.1&#34;
</code></pre><p>Check Environment setting [example home-assistant-@pi.servie]:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl show home-assistant@pi.service --property Environment
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic># Output:</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic># Environment=HTTP_PROXY=http://127.0.0.1:8118 HTTPS_PROXY=http://127.0.0.1:8118 NO_PROXY=pi.lan,127.0.0.1</span>
</span></span></code></pre></div><ol start=4><li>Notify systemd that a new shadowsocks.service file exists by executing the
following command as root</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>systemctl daemon-reload
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic># start shadowsocks service</span>
</span></span><span style=display:flex><span>systemctl start shadowsocks.service
</span></span></code></pre></div><p>You can check its status now by <code>service shadowsocks status</code>
To add it to startup, using <code>systemctl enable shadowsocks</code></p><ul><li>Check details of running status</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>service shadowsocks status -l
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic># or</span>
</span></span><span style=display:flex><span>journalctl -xe
</span></span></code></pre></div><p><em>upstart job is configured in <code>/etc/init/</code></em></p><ol start=5><li>Shell script with systemd unit</li></ol><p><em>A sample with java web application.</em></p><p>dummy service</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-systemd data-lang=systemd><span style=display:flex><span><span style=color:#a00;background-color:#faa>[Unit]</span>                                                                          
</span></span><span style=display:flex><span><span style=color:#309>Description</span><span style=color:#555>=</span><span style=color:#c30>Dummy daemon                                          </span>
</span></span><span style=display:flex><span><span style=color:#309>Wants</span><span style=color:#555>=</span><span style=color:#c30>network-online.target</span>
</span></span><span style=display:flex><span><span style=color:#309>After</span><span style=color:#555>=</span><span style=color:#c30>network.target network-online.target multi-user.target</span>
</span></span><span style=display:flex><span>                                                                                 
</span></span><span style=display:flex><span><span style=color:#a00;background-color:#faa>[Service]</span>                                                                        
</span></span><span style=display:flex><span><span style=color:#309>ExecStart</span><span style=color:#555>=</span><span style=color:#c30>/usr/bin/dummy </span>
</span></span><span style=display:flex><span><span style=color:#309>ExecReload</span><span style=color:#555>=</span><span style=color:#c30>/bin/kill -HUP $MAINPID</span>
</span></span><span style=display:flex><span><span style=color:#309>PIDFile</span><span style=color:#555>=</span><span style=color:#c30>/var/run/dummy.pid                                                 </span>
</span></span><span style=display:flex><span><span style=color:#309>KillMode</span><span style=color:#555>=</span><span style=color:#c30>process                                                                 </span>
</span></span><span style=display:flex><span><span style=color:#309>Restart</span><span style=color:#555>=</span><span style=color:#c30>on-failure                                                               </span>
</span></span><span style=display:flex><span><span style=color:#309>TimeoutStopSec</span><span style=color:#555>=</span><span style=color:#c30>30</span>
</span></span><span style=display:flex><span>                                                                                 
</span></span><span style=display:flex><span><span style=color:#a00;background-color:#faa>[Install]</span>                                                                        
</span></span><span style=display:flex><span><span style=color:#309>WantedBy</span><span style=color:#555>=</span><span style=color:#c30>multi-user.target </span>
</span></span></code></pre></div><p>dummy script to start</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#09f;font-style:italic>#/bin/bash</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#033>JAVA_HOME</span><span style=color:#555>=</span><span style=color:#c30>&#34;</span><span style=color:#a00>${</span><span style=color:#033>JAVA_HOME</span><span style=color:#069;font-weight:700>:-</span>/usr/lib/jvm/default<span style=color:#a00>}</span><span style=color:#c30>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#033>JAVA_OPTS</span><span style=color:#555>=</span><span style=color:#c30>&#34;-XX:+UnlockExperimentalVMOptions -XX:-UseJVMCICompiler&#34;</span>
</span></span><span style=display:flex><span><span style=color:#033>JAVA_OPTS</span><span style=color:#555>=</span><span style=color:#c30>&#34;</span><span style=color:#a00>${</span><span style=color:#033>JAVA_OPTS</span><span style=color:#a00>}</span><span style=color:#c30> -Xms1024m -Xmx2048m -XX:PermSize=32m&#34;</span>
</span></span><span style=display:flex><span><span style=color:#033>DUMMY_PROGRAM</span><span style=color:#555>=</span><span style=color:#c30>&#34;/opt/dummy/dummy.jar&#34;</span>
</span></span><span style=display:flex><span><span style=color:#033>START_CMD</span><span style=color:#555>=</span><span style=color:#c30>&#34;</span><span style=color:#a00>${</span><span style=color:#033>JAVA_HOME</span><span style=color:#a00>}</span><span style=color:#c30>/bin/java </span><span style=color:#a00>${</span><span style=color:#033>JAVA_OPTS</span><span style=color:#a00>}</span><span style=color:#c30> -jar </span><span style=color:#a00>${</span><span style=color:#033>DUMMY_PROGRAM</span><span style=color:#a00>}</span><span style=color:#c30>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#033>LOG_FILE</span><span style=color:#555>=</span>/var/log/dummy
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>init<span style=color:#555>()</span> <span style=color:#555>{</span>
</span></span><span style=display:flex><span>	touch <span style=color:#a00>${</span><span style=color:#033>LOG_FILE</span><span style=color:#a00>}</span>
</span></span><span style=display:flex><span><span style=color:#555>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>check_running<span style=color:#555>()</span> <span style=color:#555>{</span>
</span></span><span style=display:flex><span>	logger -i -t <span style=color:#c30>&#34;It&#39;s running&#34;</span> -f <span style=color:#a00>${</span><span style=color:#033>LOG_FILE</span><span style=color:#a00>}</span>
</span></span><span style=display:flex><span><span style=color:#555>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>check_deps<span style=color:#555>()</span> <span style=color:#555>{</span>
</span></span><span style=display:flex><span>	<span style=color:#366>echo</span> <span style=color:#c30>&#34;Ok&#34;</span>
</span></span><span style=display:flex><span><span style=color:#555>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>start<span style=color:#555>()</span> <span style=color:#555>{</span>
</span></span><span style=display:flex><span>	<span style=color:#366>eval</span> <span style=color:#a00>${</span><span style=color:#033>START_CMD</span><span style=color:#a00>}</span>
</span></span><span style=display:flex><span>	<span style=color:#366>echo</span> <span style=color:#c30>&#34;It&#39;s started&#34;</span>		
</span></span><span style=display:flex><span><span style=color:#555>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>main<span style=color:#555>()</span> <span style=color:#555>{</span>
</span></span><span style=display:flex><span> init
</span></span><span style=display:flex><span> check_running
</span></span><span style=display:flex><span> check_deps
</span></span><span style=display:flex><span> start &amp;
</span></span><span style=display:flex><span><span style=color:#555>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>main <span style=color:#c30>&#34;</span><span style=color:#033>$@</span><span style=color:#c30>&#34;</span>
</span></span></code></pre></div><h2 id=reference>Reference
<a class=anchor href=#reference>#</a></h2><ul><li><a href=https://wiki.ubuntu.com/systemd>https://wiki.ubuntu.com/systemd</a></li><li><a href=https://wiki.debian.org/Debate/initsystem/sysvinit>https://wiki.debian.org/Debate/initsystem/sysvinit</a></li><li><a href=http://0pointer.de/public/systemd-man/>http://0pointer.de/public/systemd-man/</a></li><li><a href=https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System_Administrators_Guide/sect-Managing_Services_with_systemd-Unit_Files.html>https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System_Administrators_Guide/sect-Managing_Services_with_systemd-Unit_Files.html</a></li><li><a href=https://home-assistant.io/docs/autostart/systemd/>https://home-assistant.io/docs/autostart/systemd/</a></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#history>History</a><ul><li><a href=#features-of-upstart>Features of Upstart</a></li></ul></li><li><a href=#systemd>Systemd</a><ul><li><a href=#systemctl>systemctl</a></li><li><a href=#init-script-vs-service-file>Init script vs Service file</a></li></ul></li><li><a href=#reference>Reference</a></li></ul></nav></div></aside></main></body></html>