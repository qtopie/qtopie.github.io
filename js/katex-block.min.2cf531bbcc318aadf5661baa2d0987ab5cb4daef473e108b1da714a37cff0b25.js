(function(){const e=()=>{if(typeof katex=="undefined"){let t=0;const n=setInterval(()=>{typeof katex!="undefined"?(clearInterval(n),e()):t>30&&(clearInterval(n),console.warn("KaTeX failed to load after 3s.")),t++},100);return}const t=document.querySelectorAll("pre code.language-latex, pre code.language-math, pre code.language-tex");t.forEach(e=>{const s=e.textContent,n=e.closest("pre"),o=n.closest(".highlight")||n,t=document.createElement("div");t.className="katex-display-block",t.style.overflowX="auto",t.style.overflowY="hidden",t.style.margin="1em 0",t.style.textAlign="center";try{katex.render(s,t,{displayMode:!0,throwOnError:!1,output:"html"}),o.replaceWith(t)}catch(e){console.error("KaTeX rendering error:",e)}})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()})()